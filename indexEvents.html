<!doctype html>
<html lang="en">
<head>
  
  <meta charset="utf-8" />
  <title>The Occupy Network</title>
  
  <!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
  <link rel="stylesheet" href="css/style.css" />
  
  <!-- scripts at bottom of page -->

</head>
<body class="homepage">
  
<script type="text/javascript" src="http://nav.occupy.net/occupynet_nav.js"></script>

<section id="content">


<section id="options" class="clearfix">
	<div class="option-logo">
		<h1>the <span class="occupy">occupy</span> network</h1>
	</div>
	<div class="option-combo">
	  <h3>Sort by:</h3>
	  <ul id="sort" class="option-set clearfix" data-option-key="sortBy">
	    <li><a href="#mixed" data-option-value="number" class="selected">mixed</a></li>
	    <li><a href="#original" data-option-value="date">date</a></li>
	    <li><a href="#alphabetical" data-option-value="alphabetical">name</a></li>
	  </ul>
	</div>
	<div class="option-combo">
	  <h3>Show me:</h3>
	  <ul id="filter" class="option-set clearfix" data-option-key="filter">
	    <li><a href="#show-all" data-option-value="*" class="selected">everything</a></li>
	    <li><a href="#events" data-option-value=".event, .campaign">events</a></li>
	    <li><a href="#knowledge" data-option-value=".wiki, .info">knowledge</a></li>
	    <li><a href="#news" data-option-value=".news, .photo, .directory">news</a></li>
	    <li><a href="#opportunities" data-option-value=".jobs">opportunities</a></li>
	    <li><a href="#tools" data-option-value=".project">tools</a></li>
	  </ul>
	</div>
</section>


<div id="container" class="super-list variable-sizes clearfix">

	<div id="eventsLoading" data-number="1"></div>
	
	<div id="feed1" class="clearfix"></div>
	<div id="feed2" class="clearfix"></div>
	<div id="feed3" class="clearfix"></div>
	<div id="feed4" class="clearfix"></div>
	<div id="feed5" class="clearfix"></div>
	<div id="feed6" class="clearfix"></div>
	<div id="feed7" class="clearfix"></div>
  
	<div class="element project alpha">
		<img class="icon" src="img/icons/wiki.png">
		<h3 class="title">Wiki</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="element project alpha">
		<img class="icon" src="img/icons/map.png">
		<h3 class="title">Map</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="element project alpha">
		<img class="icon" src="img/icons/notes.png">
		<h3 class="title">Notes</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="element project alpha">
		<img class="icon" src="img/icons/events.png">
		<h3 class="title">Events</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="element project alpha">
		<img class="icon" src="img/icons/campaigns.png">
		<h3 class="title">Campaigns</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="element project alpha">
		<img class="icon" src="img/icons/forum.png">
		<h3 class="title">Forum</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="element project alpha">
		<img class="icon" src="img/icons/ideas.png">
		<h3 class="title">Ideas</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="element project alpha">
		<img class="icon" src="img/icons/lists.png">
		<h3 class="title">Lists</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="element project alpha" data-number="9">
		<img class="icon" src="img/icons/news.png">
		<h3 class="title">News</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="element project alpha"  data-number="8">
		<img class="icon" src="img/icons/classifieds.png">
		<h3 class="title">Classifieds</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="element project beta" data-number="7">
		<img class="icon" src="img/icons/directory.png">
		<h3 class="title">Directory</h3>
		<h5 class="status">alpha</h5>
	</div>
	<div class="element project alpha" data-number="6">
		<img class="icon" src="img/icons/search.png">
		<h3 class="title">Search</h3>
		<h5 class="status">alpha</h5>
	</div>
	
	
	<div class="element campaign" data-number="3">
		<h3 class="title">Occupy 311</h3>
		<h5 class="date">ongoing</h5>
	</div>
	<div class="element campaign" data-number="4">
		<h3 class="title">May Day</h3>
		<h5 class="date">Tue, May 1</h5>
	</div>
	
	
	<div class="element wiki" data-number="1">
		<h6 class="pretitle">Learn more about</h6>
		<h3 class="title">May Day</h3>
		<img src="img/topics/mayday.jpg">
	</div>
	
	<div class="element info" data-number="5">
		<h5 class="title">Welcome</h5>
		<p class="text">Occupy.net provides people with software tools that align with the values of the #occupy movement. All of the tools offered through Occupy.net are free/libre/open source: part of the global information commons, maintained by communities, not corporations.<br><br>
If you'd like to provide or help maintain an open source tool for this network, please <b>tell us about yourself.</b></p>
	</div>
	
	<div class="element info" data-number="2">
		<h5 class="title">What is Occupy?</h5>
		<p class="text">It's more than just peaceful assemblies. When we occupy a space, or a topic, we spotlight it. We encourage people to investigate, understand, act, and change something.<br><br>What do you want to occupy?<br><br>Coming up: <b>Occupy May Day</b></p>
	</div>
	
</div>


	<div style="display: none;">
		<div id="inline1" style="width:500px;height:300px;overflow:auto;">
			<h2>Occupy Lightboxes</h2>
			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam quis mi eu elit tempor facilisis id et neque. Nulla sit amet sem sapien. Vestibulum imperdiet porta ante ac ornare. Nulla et lorem eu nibh adipiscing ultricies nec at lacus. Cras laoreet ultricies sem, at blandit mi eleifend aliquam. Nunc enim ipsum, vehicula non pretium varius, cursus ac tortor. Vivamus fringilla congue laoreet. Quisque ultrices sodales orci, quis rhoncus justo auctor in. Phasellus dui eros, bibendum eu feugiat ornare, faucibus eu mi. Nunc aliquet tempus sem, id aliquam diam varius ac. Maecenas nisl nunc, molestie vitae eleifend vel, iaculis sed magna. Aenean tempus lacus vitae orci posuere porttitor eget non felis. Donec lectus elit, aliquam nec eleifend sit amet, vestibulum sed nunc.</p>
		</div>
	</div>

<!-- jquery -->
<script src="js/jquery-1.7.1.min.js"></script>

<!-- fancybox -->
<script src="js/jquery.fancybox-1.3.4.pack.js"></script>
<script src="js/jquery.mousewheel-3.0.4.pack.js"></script>
<script>
$(document).ready(function() {
	$(".element").fancybox({
		'titlePosition'		: 'inside',
		'transitionIn'		: 'none',
		'transitionOut'		: 'none'
	});
});
</script>

<!-- isotope -->
<script src="js/jquery.isotope.min.js"></script>
<script>
$(function(){

  var $container = $('#container');

  $container.isotope({
    masonry: {
      columnWidth: 120
    },
    sortBy: 'number',
    getSortData: {
      number: function( $elem ) {
        var number = $elem.hasClass('element') ? 
          $elem.find('.number').text() :
          $elem.attr('data-number');
        return parseInt( number, 10 );
      },
      alphabetical: function( $elem ) {
        var name = $elem.find('.name'),
            itemText = name.length ? name : $elem;
        return itemText.text();
      }
    }
  });

  
  var $optionSets = $('#options .option-set'),
      $optionLinks = $optionSets.find('a');

  $optionLinks.click(function(){
    var $this = $(this);
    // don't proceed if already selected
    if ( $this.hasClass('selected') ) {
      return false;
    }
    var $optionSet = $this.parents('.option-set');
    $optionSet.find('.selected').removeClass('selected');
    $this.addClass('selected');

    // make option object dynamically, i.e. { filter: '.my-filter-class' }
    var options = {},
        key = $optionSet.attr('data-option-key'),
        value = $this.attr('data-option-value');
    // parse 'false' as false boolean
    value = value === 'false' ? false : value;
    options[ key ] = value;
    if ( key === 'layoutMode' && typeof changeLayoutMode === 'function' ) {
      // changes in layout modes need extra logic
      changeLayoutMode( $this, options )
    } else {
      // otherwise, apply new options
      $container.isotope( options );
    }
    
    return false;
  });



  // EVENTS
  var $events = $('#eventsLoading'),
      $eventsTitle = $('<h6 class="loading"><img src="img/ajax-loader.gif" /> Loading events</h6>'),
      $eventsList = $('<ul class="clearfix"></ul>');
    
  $events.append( $eventsTitle ).append( $eventsList );

  $eventsList.isotope({
    layoutMode: 'cellsByRow',
    cellsByRow: {
      columnWidth: 290,
      rowHeight: 400
    }
  });

  var ajaxError = function(){
    $eventsTitle.removeClass('loading').addClass('error')
      .text('Could not load events :(');
  };

  // get JSON event data
  $.getJSON('http://events.occupy.net/json/week')
    .error( ajaxError )
    .success(function( data ){

      // proceed only if we have data
      if ( !data || !data.length ) {
        ajaxError();
        return;
      }
      var items = [],
          item, datum;

      for ( var i=0, len = data.length; i<10; i++ ) {
        datum = data[i];
        item = '<div class="element event width2">'
          + '<h3 class="title">' + datum.event_name + '</h3>'
          + '<h5 class="date">' + datum.event_start_date + '</h5>'
          + '</div>';
        items.push( item );
      }
    
      var $items = $( items.join('') )
        .addClass('example');
        
      // set random number for each item
      $items.each(function(){
        $(this).attr('data-number', ~~( Math.random() * 100 + 15 ));
      });
    
      $items.imagesLoaded(function(){
        $eventsTitle.removeClass('loading').text('');
        $events.addClass('done').text('');
        $container.append( $items );
        $items.each(function(){
          var $this = $(this),
              itemHeight = Math.ceil( $this.height() / 120 ) * 120 - 10;
          $this.height( itemHeight );
        });
        $container.isotope( 'insert', $items );
      });
    
    });



	
	// FEEDS

  // get RSS feed data
  $.getJSON('http://classifieds.occupy.net/rss/all/')
    .error( ajaxError )
    .success(function( data ){

      // proceed only if we have data
      if ( !data || !data.length ) {
        ajaxError();
        return;
      }
      var items = [],
          item, datum;

      for ( var i=0, len = data.length; i<10; i++ ) {
        datum = data[i];
        item = '<div class="element feed">'
          + '<h3 class="title">' + datum.event_name + '</h3>'
          + '<h5 class="date">' + datum.event_start_date + '</h5>'
          + '</div>';
        items.push( item );
      }
    
      var $items = $( items.join('') )
        .addClass('example');
        
      // set random number for each item
      $items.each(function(){
        $(this).attr('data-number', ~~( Math.random() * 100 + 15 ));
      });
    
      $items.imagesLoaded(function(){
        $eventsTitle.removeClass('loading').text('');
        $events.addClass('done').text('');
        $container.append( $items );
        $items.each(function(){
          var $this = $(this),
              itemHeight = Math.ceil( $this.height() / 120 ) * 120 - 10;
          $this.height( itemHeight );
        });
        $container.isotope( 'insert', $items );
      });
    
    });
  
});
</script>


<footer>
  Brought to you by <a href="http://nycga.net">Occupy Tech</a>
</footer>

</section> <!-- #content -->
  

</body>
</html>